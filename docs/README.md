# 미션 - 로또

## 2주차 피드백
1. README.md를 상세히 작성한다
2. 기능 목록을 재검토한다
3. 기능 목록을 업데이트한다. (죽은 문서가 아닌 살아있는 문서)
4. 값을 하드 코딩하지 않는다. (상수 사용)
5. 변수 이름에 자료형은 사용하지 않는다 (nameList -> x)
6. 한 함수가 한 가지 기능만 담당하게 한다
7. 함수가 한 가지 기능을 하는지 확인하는 기준을 세운다 (함수의 길이를 15라인을 넘어가지 않도록)
8. 테스트를 작성하는 이유에 대해 본인의 경험을 토대로 정리해본다
9. 처음부터 큰 단위의 테스트를 만들지 않는다


## 학습 목표
1. 클래스(객체)를 분리하는 연습
2. 도메인 로직에 대한 단위 테스트를 작성하는 연습
- 도메인 로직과 단위 테스트와 같은 용어들이 낯설 수 있지만, 작은 기능부터 테스트를 작성하는 연습을 시작해 보는 것입니다. 위에서 언급한 숫자 야구 피드백 강의 후반부에 단위 테스트를 작성하는 내용이 있으니 이를 참고해 주세요.

### 사용자가 잘못된 값을 입력할 경우 `IllegalArgumentException`를 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 종료한다.
## 🚀 기능 요구 사항
- [x] 사용자의 로또 구입 액수를 입력받고 1000원 단위로 개수를 구한다.
    - [x] 1000원 단위로 입력하지 않을 경우 예외 처리 해준다.(입력 요구사항) [ERROR] 문구 출력
    - [x] 숫자 외 문자가 주어질 경우 Illegal exception 발생 후 [ERROR] 문구 출력 후 **종료**
- [x] 구입한 개수만큼 로또를 생성한다.
    - [x] 하나의 로또는 '1~45 범위'의, '중복되지 않는' '6개'의 숫자를 만족한다.
- [x] 사용자의 로또 번호(6개), 그리고 보너스 번호를 입력받는다. (잘못된 값을 입력: `IllegalArgumentException`를 발생, "[ERROR]"로 시작하는 에러 메시지를 출력 후 종료)
    - [x] 중복된 숫자를 입력 받을 경우 
    - [x] 주어진 개수 보다 더 많이 입력할 경우
    - [x] 범위에서 벗어난 수, 숫자가 아닌 경우
- [x] 발행한 로또 수량 및 번호를 출력한다. 로또 번호는 오름차순으로 정렬하여 보여준다.
- [x] 생성된 로또 번호(컴퓨터)와 입력된 번호(사용자)를 비교해 몇 개가 맞는지 연산한다.
- [x] 당첨 내역을 출력한다.
- [x] 수익률을 출력한다. 수익률은 소수점 둘째 자리에서 반올림한다. (ex. 100.0%, 51.5%, 1,000,000.0%)


## 도메인 나누기
- 사용자 입력1 - 구입 금액
  - 음수 혹은 문자 입력 시
  - 1000원 단위가 아닌 입력 시
- 구입 개수만큼 로또 생성 (근데 컴퓨터, 내가 만드는 건데 검사할 필요가 있나?)
  - 중복 체크
  - 6개 맞는지 체크
  - 1-45 범위에서 벗어난 번호 혹은 문자 입력 시?? 
- 사용자 입력2 - 당첨 번호
    1. 6개 번호 입력
        - 중복 체크
        - 6개 개수 맞는지 체크
        - 1-45 범위에서 벗어난 번호 혹은 문자인지 체크
    2. 보너스 번호 1개 입력
        - 중복 체크
        - 1개 입력한 게 맞는지 체크
        - 1-45 범위에서 벗어난 번호 혹은 문자인지 체크
- 로또 번호 비교
  - 순서에 상관없이 동일한 번호를 포함했는지 비교
  - 각 로또마다 몇 개를 맞췄는지 결과값 저장
- 수익률 계산
  - 맞춘 로또 번호에 따라 수익 계산
  - 구입한 로또들의 수익금 합산 (3개 일치부터 시작 수익금 배당) -> 이걸 enum 으로 해야하나 생각
- 결과 출력
  - 발행한 로또 수량 및 번호 (로또 번호는 오름차순으로 정렬)
  - 당첨 내역
  - 수익률

## 🎯 프로그래밍 요구 사항
- 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다.
    - 함수(또는 메서드)가 한 가지 일만 잘 하도록 구현한다.
- else를 지양한다.
    - 힌트: if 조건절에서 값을 return하는 방식으로 구현하면 else를 사용하지 않아도 된다.
    - 때로는 if/else, when문을 사용하는 것이 더 깔끔해 보일 수 있다. 어느 경우에 쓰는 것이 적절할지 스스로 고민해 본다.
- Enum 클래스를 적용해 프로그래밍을 구현한다.
- 도메인 로직에 단위 테스트를 구현해야 한다. 단, UI(System.out, System.in, Scanner) 로직은 제외한다.
    - 핵심 로직을 구현하는 코드와 UI를 담당하는 로직을 분리해 구현한다.
    - 단위 테스트 작성이 익숙하지 않다면 `test/kotlin/lotto/LottoTest`를 참고하여 학습한 후 테스트를 구현한다.

### 라이브러리

- [`camp.nextstep.edu.missionutils`](https://github.com/woowacourse-projects/mission-utils)에서 제공하는 `Randoms` 및 `Console` API를 사용하여 구현해야 한다.
    - Random 값 추출은 `camp.nextstep.edu.missionutils.Randoms`의 `pickUniqueNumbersInRange()`를 활용한다.
    - 사용자가 입력하는 값은 `camp.nextstep.edu.missionutils.Console`의 `readLine()`을 활용한다.

#### 사용 예시

```kotlin
val numbers = Randoms.pickUniqueNumbersInRange(1, 45, 6)
```

### Lotto 클래스

- 제공된 `Lotto` 클래스를 활용해 구현해야 한다.
- `Lotto`에 매개 변수가 없는 생성자를 추가할 수 없다. -> 아마 Lotto 자신을 말하는 것 같음
- `numbers`의 접근 제어자인 private을 변경할 수 없다.
- `Lotto`에 필드를 추가할 수 없다.
- `Lotto`의 패키지 변경은 가능하다.

```kotlin
class Lotto(private val numbers: List<Int>) {
    init {
        require(numbers.size == 6)
    }

    // TODO: 추가 기능 구현
}
```

---