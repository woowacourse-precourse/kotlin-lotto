# 미션 - 로또

## 🔍 기능목록
1. 금액을 입력한다.
   - 1.1 입력한 금액이 숫자 형식에 맞는지 판단한다.
   - 1.2 입력한 금액이 1000원 단위인지 판단한다.
2. 1에서 입력한 금액에 따라 로또를 반환한다.
3. 당첨번호를 입력한다.
   - 3.1 숫자 형식인지 판단한다.
   - 3.2 ','로 구분하고 1부터 45까지의 양수만 입력받는지 판단한다.
   - 3.3 리스트의 사이즈가 6인지 판단한다.
4. 보너스 번호를 입력한다.
   - 4.1 보너스 번호가 1부터 45까지의 양수인지 판단한다.
   - 4.2 보너스 번호가 3의 번호들과 중복되지 않는지 판단한다.
5. 1,2,3,4에서 입력한 값을 토대로 결과를 도출한다.

## 🚨 예외사항
- 하나의 입력이 있을 때마다 enter로 구분해서 출력해야한다.
  - ex) 8000원을 입력한 후 "8개를 구매했습니다."라는 문구는 한 줄의 공백을 두고 출력해야한다.
- 당첨 번호는 무조건 공백없이 ','를 통해 구분해야한다.
- 수익률은 소수점 둘째자리에서 반올림해야한다. -> 필요없는 경우에도 소수점 첫째자리까지 표현

## 🚀 정규표현식
- LottoError.kt에서 전역으로 선언해 사용
- private val costValidNum = "^[0-9]+$".toRegex()
  - 0부터 9인지 숫자를 판별
- private val validNum = "^[1-9]$|^[1-3][0-9]$|^4[0-5]$".toRegex()
  - 1부터 45까지인지 판별하고 숫자만을 입력하도록 판별

## 🎯 통계부분 구현 방법
- 금액에 따른 로또를 반환하고 당첨번호와 보너스 번호에 따라 통계를 출력해야합니다.
- 이를 구현하기 위해 HashMap을 사용했습니다.
- 5개의 번호가 일치하고 보너스 번호가 맞을 때와 5개의 번호만 맞을 때의 경우를 분리해야 했습니다.
- 따라서 5개만 일치할 때는 key로 5를 저장하고
- 보너스 번호까지 일치할 때는 key를 7로 저장합니다.

## 📮 고찰
### 테스트케이스
- LottoTest.kt에 테스트케이스를 추가할 때 형식이 잘못되어 시간이 많이 걸렸다.
- 1,2,3,4,5,t와 같이 숫자가 아닌 형식을 테스트 하고 싶었다.
- 자세히 보니 Lotto(ListOf(...))와 같은 형식으로 되어있었고 숫자인 값 중에서 오류를 판단한다는 것을 알게되었다.

- ApplicationTest.kt에서 금액 관련 테스트를 진행할 때 코드에서는 통과하지만 테스트케이스를 통과하지 못하는 오류가 발생했다.
- throw를 사용하는 경우는 실행 중 오류가 발생하면 예외를 던지는 것이고
- try-catch는 호출하는 쪽에서 예외를 잡아 처리하는 것이었다.
- 기존 throw로 처리하던 것을 Application.kt에서 try-catch로 처리하니 오류가 해결되었다.